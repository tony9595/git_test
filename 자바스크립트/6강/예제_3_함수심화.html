<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        function fun1() {
            return function (dan) {
                for (let i = 1; i < 10; i++) {
                    console.log(`${dan}X${i}=${i * dan}`)
                }
            }
        }

        let returnFun = fun1();
        returnFun(4);

        /*
            클로저(closure)
            : free variable(자유변수)에 의해서 함수가 닫혀(closed)있다.
        */

        function funName(x) {
            var varName = ':: 요청한 ' + x + '에 대한 구구단::';

            return function () {
                document.write(varName + '<br>');
                for (var i = 1; i < 10; i++) {
                    document.write(x + 'X ' + i + ' = ' + x * i + '<br>');
                }
            };
        }

        //지역변수에 접근할 수 없다.(에러 발생)
        //console.log("varName : " + varName);

        returnFun = funName(5);
        returnFun();

        /*
            내부함수
            : 함수안에 또다른 함수
        */

        function outFun(width, height) {

            console.log("triangle : " + triangle());
            console.log("quadrangle : " + quadrangle());

            //삼각형 면적 계산
            function triangle() {

                return (width * height) / 2;

            }

            //사각형 면적 계산
            function quadrangle() {

                return width * height;

            }

        }

        outFun(3, 5);
        //triangle();
        function test(x,y,z){
            document.write(`총점:${total()}<br>`)
            document.write(`평균:${avg()}<br>`)

            //총점
            function total() {
                return (x+y+z);
            }
            //평균
            function avg(){
                return(x+y+z)/3;
            }
        }
        test(90,70,80);
    </script>
</head>

<body>

</body>

</html>